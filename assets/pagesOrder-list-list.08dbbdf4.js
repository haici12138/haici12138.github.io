import{d as e,g as a,m as t,a5 as s,o as l,j as r,b as d,w as u,F as o,r as n,c as i,a as c,e as f,t as _,u as p,n as m,B as y,f as v,h as S,i as k,k as g,v as b,l as x,S as h}from"./index-1160dd25.js";import{o as j}from"./index.0a89d6f4.js";import{o as C,O}from"./constants.7673486a.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import"./http.22d6ec59.js";const D=w(e({__name:"OrderList",props:{orderState:null},setup(e){const x=e,{safeAreaInsets:h}=a(),w={page:1,pageSize:5,orderState:x.orderState},D=t([]);s((()=>{(async()=>{const e=await j.GetOrderList(w);D.value=e.result.items})()}));return(e,a)=>{const t=v,s=S,x=k,j=g,w=b;return l(),r("div",{class:""},[d(w,{"scroll-y":"",class:"orders"},{default:u((()=>{var e;return[(l(!0),r(o,null,n(D.value,(e=>(l(),i(s,{class:"card",key:e.id},{default:u((()=>[c(" 订单信息 "),d(s,{class:"status"},{default:u((()=>[d(t,{class:"date"},{default:u((()=>[f(_(e.createTime),1)])),_:2},1024),c(" 订单状态文字 "),d(t,null,{default:u((()=>[f(_(p(C)[e.orderState].text),1)])),_:2},1024),c(" 待评价/已完成/已取消 状态: 展示删除订单 "),e.orderState>=p(O).DaiPingJia?(l(),i(t,{key:0,class:"icon-delete"})):c("v-if",!0)])),_:2},1024),c(" 商品信息，点击商品跳转到订单详情，不是商品详情 "),(l(!0),r(o,null,n(e.skus,(a=>(l(),i(j,{key:a.id,class:"goods",url:`/pagesOrder/detail/detail?id=${e.id}`,"hover-class":"none"},{default:u((()=>[d(s,{class:"cover"},{default:u((()=>[d(x,{mode:"aspectFit",src:a.image},null,8,["src"])])),_:2},1024),d(s,{class:"meta"},{default:u((()=>[d(s,{class:"name ellipsis"},{default:u((()=>[f(_(a.name),1)])),_:2},1024),d(s,{class:"type"},{default:u((()=>[f(_(a.attrsText),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128)),c(" 支付信息 "),d(s,{class:"payment"},{default:u((()=>[d(t,{class:"quantity"},{default:u((()=>[f("共"+_(e.totalNum)+"件商品",1)])),_:2},1024),d(t,null,{default:u((()=>[f("实付")])),_:1}),d(t,{class:"amount"},{default:u((()=>[d(t,{class:"symbol"},{default:u((()=>[f("¥")])),_:1}),f(_(e.payMoney),1)])),_:2},1024)])),_:2},1024),c(" 订单操作按钮 "),d(s,{class:"action"},{default:u((()=>[c(" 待付款状态：显示去支付按钮 "),e.orderState==p(O).DaiFuKuan?(l(),i(s,{key:0,class:"button primary",onClick:a=>(async e=>{y({icon:"success",title:"支付成功"}),D.value.find((a=>a.id===e)).orderState=O.DaiFaHuo})(e.id)},{default:u((()=>[f("去支付")])),_:2},1032,["onClick"])):(l(),r(o,{key:1},[d(j,{class:"button secondary",url:"/pagesOrder/create/create?orderId=id","hover-class":"none"},{default:u((()=>[f(" 再次购买 ")])),_:1}),c(" 待收货状态: 展示确认收货 "),e.orderState==p(O).DaiShouHuo?(l(),i(s,{key:0,class:"button primary"},{default:u((()=>[f("确认收货")])),_:1})):c("v-if",!0)],64))])),_:2},1024)])),_:2},1024)))),128)),c(" 底部提示文字 "),d(s,{class:"loading-text",style:m({paddingBottom:(null==(e=p(h))?void 0:e.bottom)+"px"})},{default:u((()=>[f(_("没有更多数据~"),1)])),_:1},8,["style"])]})),_:1})])}}}),[["__scopeId","data-v-1b90d3e9"]]),F=w(e({__name:"list",props:{type:null},setup(e){const a=e,s=t([{orderState:0,title:"全部"},{orderState:1,title:"待付款"},{orderState:2,title:"待发货"},{orderState:3,title:"待收货"},{orderState:4,title:"待评价"}]),p=t(0);return p.value=(null==a?void 0:a.type)||0,(e,a)=>{const t=v,y=S,k=h,g=x;return l(),i(y,{class:"viewport"},{default:u((()=>[c(" tabs "),d(y,{class:"tabs"},{default:u((()=>[(l(!0),r(o,null,n(s.value,((e,a)=>(l(),i(t,{class:"item",key:e.orderState,onClick:e=>p.value=a},{default:u((()=>[f(_(e.title),1)])),_:2},1032,["onClick"])))),128)),c(" 游标 "),d(y,{class:"cursor",style:m({left:20*p.value+"%"})},null,8,["style"])])),_:1}),c(" 滑动容器 "),d(g,{class:"swiper",current:p.value,onChange:a[0]||(a[0]=e=>p.value=e.detail.current)},{default:u((()=>[c(" 滑动项 "),(l(!0),r(o,null,n(s.value,(e=>(l(),i(k,{key:e.title},{default:u((()=>[c(" 订单列表 "),d(D,{orderState:e.orderState},null,8,["orderState"])])),_:2},1024)))),128))])),_:1},8,["current"])])),_:1})}}}),[["__scopeId","data-v-3f90d41e"]]);export{F as default};
